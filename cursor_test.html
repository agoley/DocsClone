<!DOCTYPE html>
<html>
  <head>
    <title>Cursor Overlay Test</title>
    <style>
      .editor-container {
        position: relative;
        width: 500px;
        height: 300px;
        border: 2px solid #ccc;
        margin: 50px;
        background: white;
      }

      .cursor-overlay {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        z-index: 1000;
      }

      .collaborative-cursor {
        position: absolute;
        width: 3px;
        background-color: #ff0000;
        pointer-events: none;
        z-index: 1001;
        border-radius: 1px;
      }

      .cursor-label {
        position: absolute;
        top: -22px;
        left: -2px;
        background: #ff0000;
        color: white;
        padding: 2px 6px;
        border-radius: 3px;
        font-size: 11px;
        font-weight: 500;
        white-space: nowrap;
      }

      @keyframes cursorBlink {
        0%,
        50% {
          opacity: 1;
        }
        51%,
        100% {
          opacity: 0.3;
        }
      }

      .collaborative-cursor {
        animation: cursorBlink 1.2s infinite;
      }
    </style>
  </head>
  <body>
    <h1>Cursor Overlay Test</h1>
    <div class="editor-container" id="editor">
      <div class="cursor-overlay" id="cursorOverlay">
        <!-- Cursors will be added here -->
      </div>
      <div style="padding: 20px">
        <p>This is a test editor with cursor overlay.</p>
        <p>Red cursors should appear at various positions.</p>
      </div>
    </div>

    <script>
      function addTestCursor(top, left, label, color = "#ff0000") {
        const overlay = document.getElementById("cursorOverlay");

        const cursor = document.createElement("div");
        cursor.className = "collaborative-cursor";
        cursor.style.cssText = `
                position: absolute;
                top: ${top}px;
                left: ${left}px;
                width: 3px;
                height: 20px;
                background-color: ${color};
                pointer-events: none;
                z-index: 1001;
                border-radius: 1px;
                animation: cursorBlink 1.2s infinite;
            `;

        const labelEl = document.createElement("div");
        labelEl.className = "cursor-label";
        labelEl.textContent = label;
        labelEl.style.cssText = `
                position: absolute;
                top: -22px;
                left: -2px;
                background: ${color};
                color: white;
                padding: 2px 6px;
                border-radius: 3px;
                font-size: 11px;
                font-weight: 500;
                white-space: nowrap;
            `;

        cursor.appendChild(labelEl);
        overlay.appendChild(cursor);

        console.log("Added cursor:", label, "at", top, left);
      }

      // Add test cursors
      setTimeout(() => {
        addTestCursor(50, 100, "User1", "#4285f4");
        addTestCursor(80, 200, "User2", "#ea4335");
        addTestCursor(120, 150, "User3", "#34a853");
      }, 500);
    </script>
  </body>
</html>
